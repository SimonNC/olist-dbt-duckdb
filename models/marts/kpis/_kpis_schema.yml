version: 2

models:
  - name: mrt_kpi_daily_orders
    description: "Daily KPIs: orders, GMV, freight, revenue."
    columns:
      - name: order_date
        tests: [not_null, unique]
      - name: orders_count
        tests: [not_null]
      - name: revenue_total
        tests: [not_null]

  - name: mrt_kpi_daily_status
    description: "Daily order volume and share by order_status."
    columns:
      - name: order_date
        tests: [not_null]
      - name: order_status
        tests: [not_null]
      - name: orders_count
        tests: [not_null]
      - name: orders_share
        tests: [not_null]

  - name: mrt_kpi_revenue_by_state_daily
    description: "Daily orders and revenue by customer_state."
    columns:
      - name: order_date
        tests: [not_null]
      - name: customer_state
        tests: [not_null]
      - name: orders_count
        tests: [not_null]
      - name: revenue_total
        tests: [not_null]

  - name: mrt_kpi_daily_customers
    description: "Daily customer KPIs including new vs repeat customers."
    columns:
      - name: order_date
        tests: [not_null, unique]
      - name: customers_total
        tests: [not_null]
      - name: new_customers
        tests: [not_null]
      - name: repeat_customers
        tests: [not_null]
      - name: repeat_rate
        tests: [not_null]

